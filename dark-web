#!/bin/bash
stty cols 60 rows 20 2>/dev/null
resize -s 20 60 2>/dev/null
clear

clear

echo -e "\e[1;34mğŸ” VÃ©rification des paquets essentiels...\e[0m"
PKGS=("tor" "privoxy" "lynx" "python")
for pkg in "${PKGS[@]}"; do
    if ! command -v $pkg &>/dev/null; then
        echo -e "\e[1;33mâš¡ Installation de $pkg en cours...\e[0m"
        pkg install $pkg -y > /dev/null 2>&1
    fi
done

if ! command -v lolcat &>/dev/null; then
    echo -e "\e[1;33mâš¡ Installation de lolcat (pip)...\e[0m"
    pip install lolcat > /dev/null 2>&1
fi

if ! command -v lolcat &>/dev/null; then
    echo -e "\e[1;31mâŒ ERREUR : Impossible d'installer lolcat. VÃ©rifiez votre installation de Termux.\e[0m"
    exit 1
fi

echo -e "\e[1;32mLancement de l'outil Dark Web Access...\e[0m" | lolcat
sleep 1
echo -e "\e[1;31mChargement du Terminal en Mode IMMERSION...\e[0m" | lolcat
sleep 2
clear

echo -e "\e[1;35mğŸš€ Configuration des fichiers Tor & Privoxy...\e[0m" | lolcat
TOR_CONFIG="$PREFIX/etc/tor/torrc"
cat <<EOF > "$TOR_CONFIG"
SocksPort 9050
ControlPort 9051
CookieAuthentication 1
EOF

PRIVOXY_CONFIG="$PREFIX/etc/privoxy/config"
cat <<EOF > "$PRIVOXY_CONFIG"
listen-address 127.0.0.1:8123
forward-socks5t / 127.0.0.1:9050 .
enable-remote-toggle 1
enable-remote-http-toggle 1
enable-edit-actions 1
accept-intercepted-requests 1
EOF

echo -e "\e[1;32mâœ… Configuration appliquÃ©e avec succÃ¨s.\e[0m" | lolcat
sleep 1

echo -e "\e[1;35mğŸš€ Activation du rÃ©seau Tor et Privoxy...\e[0m" | lolcat
pkill tor > /dev/null 2>&1
tor > /dev/null 2>&1 &
sleep 8

pkill privoxy > /dev/null 2>&1
privoxy --no-daemon $PRIVOXY_CONFIG > /dev/null 2>&1 &
sleep 2

echo -ne "\e[1;34mValidation de la connexion Tor...\e[0m" | lolcat
for i in {1..5}; do echo -n "."; sleep 0.3; done
echo ""

if curl --silent --proxy http://127.0.0.1:8123 https://check.torproject.org/ | grep -q "Congratulations"; then
    echo -e "\e[1;32mâœ… Tor est bien activÃ© !\e[0m" | lolcat
else
    echo -e "\e[1;31mâŒ Tor n'est PAS actif ! VÃ©rifiez votre configuration.\e[0m" | lolcat
    exit 1
fi
sleep 1

clear
if [[ -f "banner.txt" ]]; then
    cat banner.txt | lolcat
else
    echo -e "\e[1;31mğŸš¨ BanniÃ¨re introuvable ! Assurez-vous que 'banner.txt' est dans le rÃ©pertoire.\e[0m"
fi
sleep 2

echo -e "\e[1;36mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\e[0m" | lolcat
echo -e "\e[1;31mğŸ”¹ SÃ©lectionne un site Dark Web :\e[0m" | lolcat
echo -e "\e[1;36mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\e[0m" | lolcat

TAB_WIDTH=60
printf "\e[1;33m%-${TAB_WIDTH}s\e[0m\n" "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—" | lolcat
printf "\e[1;32m%-${TAB_WIDTH}s\e[0m\n" "â•‘      ğŸŒ   AccÃ¨s Dark Web   ğŸŒ By Karim â•‘" | lolcat
printf "\e[1;33m%-${TAB_WIDTH}s\e[0m\n" "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" | lolcat
printf "\e[1;36m%-${TAB_WIDTH}s\e[0m\n" "â•‘  1ï¸âƒ£  Ahmia       | Annuaire Dark Web    â•‘" | lolcat
printf "\e[1;36m%-${TAB_WIDTH}s\e[0m\n" "â•‘  2ï¸âƒ£  Haystack    | Moteur de recherche  â•‘" | lolcat
printf "\e[1;36m%-${TAB_WIDTH}s\e[0m\n" "â•‘  3ï¸âƒ£  Torch       | Moteur alternatif    â•‘" | lolcat
printf "\e[1;36m%-${TAB_WIDTH}s\e[0m\n" "â•‘  4ï¸âƒ£  OnionLink   | Passerelle Tor       â•‘" | lolcat
printf "\e[1;36m%-${TAB_WIDTH}s\e[0m\n" "â•‘  5ï¸âƒ£  DuckDuckGo  | Recherche anonyme    â•‘" | lolcat
printf "\e[1;33m%-${TAB_WIDTH}s\e[0m\n" "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" | lolcat
printf "\e[1;31m%-${TAB_WIDTH}s\e[0m\n" "â•‘  âŒ  0ï¸âƒ£  Quitter                           â•‘" | lolcat
printf "\e[1;33m%-${TAB_WIDTH}s\e[0m\n" "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•" | lolcat

echo -e "\e[1;36mâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\e[0m" | lolcat

read -p "ğŸ”¹ Tape le numÃ©ro de ton choix : " choice

export http_proxy="http://127.0.0.1:8123"
export https_proxy="http://127.0.0.1:8123"

case $choice in
  1) lynx http://juhanurmihxlp77nkq76byazcldy2hlmovfu2epvl5ankdibsot4csyd.onion/ ;;
  2) lynx http://haystak5njsmn2hqkewecpaxetahtwhsbsa64jom2k22z5afxhnpxfid.onion/ ;;
  3) lynx http://xmh57jrknzkhv6y3ls3ubitzfqnkrwxhopf5aygthi7d6rplyvk3noyd.onion/ ;;
  4) lynx http://jaz45aabn5vkemy4jkg4mi4syheisqn2wn2n4fsuitpccdackjwxplad.onion/ ;;
  5) lynx http://duckduckgogg42xjoc72x3sjasowoarfbgcmvfimaftt6twagswzczad.onion/ ;;
  0) echo -e "\e[1;35mğŸ”¥ Fermeture du programme.\e[0m" | lolcat; exit 0 ;;
  *) echo -e "\e[1;31mâŒ Option invalide.\e[0m" | lolcat; exit 1 ;;
esac





